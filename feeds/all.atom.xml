<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>MaxwellGBrown</title><link href="/" rel="alternate"></link><link href="/feeds/all.atom.xml" rel="self"></link><id>/</id><updated>2021-06-16T00:00:00-05:00</updated><entry><title>Faustian Tech Debt</title><link href="/faustian-tech-debt.html" rel="alternate"></link><published>2021-06-16T00:00:00-05:00</published><updated>2021-06-16T00:00:00-05:00</updated><author><name>Maxwell G Brown</name></author><id>tag:None,2021-06-16:/faustian-tech-debt.html</id><summary type="html">&lt;h1&gt;Faustian Tech Debt&lt;/h1&gt;
&lt;p&gt;Many of the failed software projects I've worked on cemented it's downard trajectory with the same well-intentioned trade off: &lt;em&gt;"If we just stop doing &lt;em&gt;X&lt;/em&gt; then we'll be able to get this through!"&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Let me name a few from experience:
- Merge code without review
- Skip writing tests …&lt;/p&gt;</summary><content type="html">&lt;h1&gt;Faustian Tech Debt&lt;/h1&gt;
&lt;p&gt;Many of the failed software projects I've worked on cemented it's downard trajectory with the same well-intentioned trade off: &lt;em&gt;"If we just stop doing &lt;em&gt;X&lt;/em&gt; then we'll be able to get this through!"&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Let me name a few from experience:
- Merge code without review
- Skip writing tests
- Disable checks in the CI so it'll pass
- Push right to develop
- ...I'm sure there are more&lt;/p&gt;
&lt;p&gt;All of the above share the same intention: &lt;em&gt;temporarily&lt;/em&gt; remove some of the overhead so that developers can deliver features in a more timely fashion.&lt;/p&gt;
&lt;p&gt;The problem is not with intention (we all love Code Review &amp;amp; Testing (right?!)). The problem is with reality. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This is faustian tech debt.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Devil playing guitar" src="devil_0"&gt;&lt;/p&gt;
&lt;p&gt;"Don't you think that's an exaggeration? We can always come back and re-address it!"&lt;/p&gt;
&lt;p&gt;I meant what I said; the "debt" we now owe our soul to the devil. &lt;/p&gt;
&lt;p&gt;In my experience there is no returning from this point. Once the proper practices have been eschewed to hit a deadline for a release, you have reached the point of no return.&lt;/p&gt;
&lt;p&gt;I've even seen disciplined teams fail to recover from this: "If we write a ticket to address what we've just undone, then we can plan on readdressing it!"&lt;/p&gt;
&lt;p&gt;No, in reality that ticket will be forever be deprioritized and you can stare at it loggingly after you scroll to the bottom of the backlog: "Oh man, I wish we had never sold our souls to the devil".&lt;/p&gt;
&lt;p&gt;&lt;img alt="The Devil" src="devil_1"&gt;&lt;/p&gt;
&lt;h2&gt;The Agile Manifesto Denounces the Devil!&lt;/h2&gt;
&lt;p&gt;Nothing in the Agile Manifesto mentions timelines and project management, but it &lt;em&gt;does&lt;/em&gt; advocate for continuous delivery. And not just in one of the principles, but in several!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Our highest priority is to satisfy the customer through early and &lt;strong&gt;continuous delivery&lt;/strong&gt; of valuable software.&lt;/p&gt;
&lt;p&gt;Deliver working software frequently, from a couple of weeks to a couple of months, with a preference to the shorter timescale.&lt;/p&gt;
&lt;p&gt;Agile processes promote sustainable development.  The sponsors, developers, and users should be able to maintain a constant pace indefinitely.&lt;/p&gt;
&lt;p&gt;Continuous attention to technical excellence and good design enhances agility.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I'll keep my point brief and simple: &lt;em&gt;if at any point you consider shortcutting your development process then you are &lt;em&gt;not&lt;/em&gt; properly practicing agile development&lt;/em&gt;.&lt;/p&gt;
&lt;h3&gt;Short aside on project management fallacies&lt;/h3&gt;
&lt;p&gt;I've worked on plenty of projects that completely eschew this though: "We want it on this date, we want exactly these features, and we won't touch resourcing."&lt;/p&gt;
&lt;p&gt;To anybody with a working knowledge of project management, what they just heard was "I want it cheap, fast, and I want it all." which is a complete violation of the Triple Constraint philosophy.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Triple Constraint" src="triple_constraint"&gt;&lt;/p&gt;
&lt;p&gt;Ineviably, what happens in the end is that something gives:
- The scope is less than promised (which leads to &lt;em&gt;another&lt;/em&gt; cycle of "get these other features NOW!")
- The release date gets pushed back (and you already sold yourself short! Why'd we sacrifice our process again?)&lt;/p&gt;
&lt;p&gt;and regardless of what gives, everybody walks away embarrassed.&lt;/p&gt;
&lt;p&gt;I posit that nobody properly practicing agile would find thmselves in this scenario.&lt;/p&gt;
&lt;h2&gt;In Conclusion...&lt;/h2&gt;
&lt;p&gt;Don't destroy your process just to meet a deadline. Instad destroy the system which set a deadline that you cannot met without destroying your processes.&lt;/p&gt;</content><category term="rants"></category></entry><entry><title>Re:Why The Fortune 500 is (Just) Finally Dumping Hadoop</title><link href="/rewhy-the-fortune-500-is-just-finally-dumping-hadoop.html" rel="alternate"></link><published>2021-06-07T00:00:00-05:00</published><updated>2021-06-07T00:00:00-05:00</updated><author><name>Maxwell G Brown</name></author><id>tag:None,2021-06-07:/rewhy-the-fortune-500-is-just-finally-dumping-hadoop.html</id><summary type="html">&lt;h1&gt;Re:Why The Fortune 500 is (Just) Finally Dumping Hadoop&lt;/h1&gt;
&lt;p&gt;After ranting about "&lt;a href="/everything-is-mapreduce.html"&gt;Everything being MapReduce&lt;/a&gt;" I felt prompted to actually go learn more about MapReduce. Maybe my untrained eye is seeing apples everywhere there's oranges.&lt;/p&gt;
&lt;p&gt;While perusing articles I came across an article suggesting that I'm probably wasting my …&lt;/p&gt;</summary><content type="html">&lt;h1&gt;Re:Why The Fortune 500 is (Just) Finally Dumping Hadoop&lt;/h1&gt;
&lt;p&gt;After ranting about "&lt;a href="/everything-is-mapreduce.html"&gt;Everything being MapReduce&lt;/a&gt;" I felt prompted to actually go learn more about MapReduce. Maybe my untrained eye is seeing apples everywhere there's oranges.&lt;/p&gt;
&lt;p&gt;While perusing articles I came across an article suggesting that I'm probably wasting my time (and the title referenced in this rant's title): &lt;strong&gt;&lt;a href="https://www.nextplatform.com/2021/02/17/why-the-fortune-500-is-finally-dumping-hadoop/"&gt;Why The Fortune 500 is (Just) Finally Dumping Hadoop&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Ignoring the strangely parenthesized "just" and the suggestion that &lt;a href="https://github.com/MaxwellGBrown/mapreduce_docker_example"&gt;the hour or so I spent researching and running Hadoop in docker&lt;/a&gt; was a waste of time, I actually saw some things that resonated with me.&lt;/p&gt;
&lt;h2&gt;Maintaining Infrastructure is a PITA&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;...many of the world’s largest companies got that memo a few years back, that’s a lot of investment in hardware, tooling, time, and engineers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The central theme of this piece. With Hadoop you have to maintain (as I understand it) several different types of nodes of which more are added as the scale of the system gets larger.&lt;/p&gt;
&lt;p&gt;When Hadoop was in it's hay-day, that was totally acceptable. Software teams were already constructed to work this way. DevOps wasn't even coined until 2009; you'd have your "infrastructure" team managing your servers (and likely on premisis too!) to work all of that for you.&lt;/p&gt;
&lt;p&gt;The replacement of infrastructure with DevOps teams is a stark contrast of the times. Software teams no longer need infrastructure teams (they're probably employed by the Cloud Providers now!), and instead have a DevOps team/roles &lt;/p&gt;
&lt;h3&gt;I'm not old&lt;/h3&gt;
&lt;p&gt;...granted I wasn't &lt;em&gt;really&lt;/em&gt; a developer at this point. This is my understanding of the software development world as I was learning as a student/junior and from secondhand experiences my seniors have shared with me.&lt;/p&gt;
&lt;h2&gt;Cloud Services &amp;gt; Cloud Infrastructure&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Here’s the funny thing about Hadoop in 2021: While cost savings and analytics performance were the two most attractive benefits back in the roaring 2010s, the shine has worn off both features. It doesn’t help that cloud’s silver lining has beckoned to far more companies over that decades—all those big enterprises that were slow to take to AWS or Azure or competitors for security reasons. Now that they’ve made the leap, keeping that on-prem Hadoop gear on the floor and fed with specialized people and tooling looks even less attractive.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Managing your own instances in the cloud might have been kosher in the 2010s, but with managed clouds and cloud services, offloading that responsibility saves software teams a LOT of responsibility and trouble.&lt;/p&gt;
&lt;p&gt;Looking back, Docker and containerization wasn't prevalant then. I don't know this for a fact, but I'd be unsurprised if Hadoop didn't grow to fit into containerization well.&lt;/p&gt;
&lt;h2&gt;On-Demand Compute &amp;gt; Always On&lt;/h2&gt;
&lt;p&gt;...which should seem like a no brainer to anybody working in the 2020s cloud environment.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;...Mathur argues. “Having this always-on processing environment with Hadoop and paying for all that compute and storage is an ongoing cost. The amount of data nodes and infrastructure companies still need to pump into their data lakes what is often useless data is just not a scalable model.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;What this screams to me is scaling issues. My impression here is that, yes you can scale hadoop horizontally, but it &lt;em&gt;probably&lt;/em&gt; (again, I'm no SME here) is harder than it should be. My (uneducated) guess is that since Hadoop requires dedicated nodes it actually depends on the CPUs &amp;amp; memory of the server.&lt;/p&gt;
&lt;p&gt;I can't see that fitting into the Cloud Service world really well.&lt;/p&gt;
&lt;h2&gt;The rest of the article is about turning tankers&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;If something works, even if it’s not the best or cheapest option, it’s not just about existing investment, it’s about the hassle and risk of change. For companies with tens of petabytes wrapped up in such a long-term investment, this is no joke. It’s a huge undertaking and if not managed properly it can create many days of downtime.&lt;/p&gt;
&lt;p&gt;For the largest companies, it’s not practical to take the traditional consulting approach of going to individual business units to find out what data matters and to whom.&lt;/p&gt;
&lt;p&gt;Although we like to think that the largest companies are the most innovative, for many in insurance, banking, healthcare, brick and mortar retail, and travel (to name a few) this is often not the case. Change comes slow because production IT environments are the engines of business. It takes those engines grinding to a halt or halting that production to spur new thinking—and this shift from Hadoop is only just now gathering steam among these giants.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Which I think is a point for smaller focused software teams embedded in their business units, which sounds super agile and fits more neatly into today's software environment. Infrastructure (cloud services?) can be maintained by a single DevOps seat, or maybe a team that loans out time to several smaller groups.&lt;/p&gt;
&lt;h2&gt;Is Hadoop &amp;amp; MapReduce Worth It?&lt;/h2&gt;
&lt;p&gt;Okay, so maybe Hadoop isn't something worth dumping &lt;em&gt;all&lt;/em&gt; of my time into learning (but learning a little more about it can't be harmful).&lt;/p&gt;
&lt;p&gt;But this article leaves me stranded about MapReduce being &lt;strong&gt;a Good Thing&lt;/strong&gt;. I get the feeling that many of the systems I find myself building are some form of MapReduce. Yet, Hadoop and MapReduce is on the way out.&lt;/p&gt;
&lt;p&gt;So, maybe I'll leave my example as a "Hello World" while I continue to rebuild MapReduce over and over, until I find a better plug-and-play MapReduce alternative.&lt;/p&gt;</content><category term="rants"></category></entry><entry><title>Cinnamon Toast Software</title><link href="/cinnamon-toast-software.html" rel="alternate"></link><published>2021-06-02T00:00:00-05:00</published><updated>2021-06-02T00:00:00-05:00</updated><author><name>Maxwell G Brown</name></author><id>tag:None,2021-06-02:/cinnamon-toast-software.html</id><summary type="html">&lt;h1&gt;Cinnamon Toast Software (aka "The Box Sells The Cereal")&lt;/h1&gt;
&lt;p&gt;I've had the fortune of working at a "software" company for the last few years.&lt;/p&gt;
&lt;p&gt;For some time I felt (maybe naively) that I was working for a &lt;strong&gt;software&lt;/strong&gt; company. And I really enjoyed working for a &lt;strong&gt;software&lt;/strong&gt; company! The job …&lt;/p&gt;</summary><content type="html">&lt;h1&gt;Cinnamon Toast Software (aka "The Box Sells The Cereal")&lt;/h1&gt;
&lt;p&gt;I've had the fortune of working at a "software" company for the last few years.&lt;/p&gt;
&lt;p&gt;For some time I felt (maybe naively) that I was working for a &lt;strong&gt;software&lt;/strong&gt; company. And I really enjoyed working for a &lt;strong&gt;software&lt;/strong&gt; company! The job I held previously was as an internal swiss-army-knife for a &lt;em&gt;market research&lt;/em&gt; company whom I made several small internal apps for, rarely with enough users to count on one hand.&lt;/p&gt;
&lt;p&gt;I switched roles so that I could learn more about the world of &lt;strong&gt;software&lt;/strong&gt; and to hone my craft from others who had maturing and developed skillsets.&lt;/p&gt;
&lt;p&gt;For some time, that's exactly what happened too!&lt;/p&gt;
&lt;h2&gt;The Facade&lt;/h2&gt;
&lt;p&gt;&lt;img alt="The man behind the curtain" src="/images/man-behind-curtain.gif"&gt;&lt;/p&gt;
&lt;p&gt;After settling into the role and company I began to see some patterns that I wasn't familiar with after my time working to solve problems internally at a &lt;em&gt;market research&lt;/em&gt; company:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Deadlines being set often before the details of the project (or, even the product!) were defined&lt;/li&gt;
&lt;li&gt;Functionality and feature sets defined and delivered to the development team with little-to-no input from a developer&lt;/li&gt;
&lt;li&gt;Absolute stonewalling of any red flags and fire alarms raised by the development team&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The direct focus was to have "something" that we can have users on, as long as that "something" was exactly the full product, the "finished" design requested by those in charge.&lt;/p&gt;
&lt;h3&gt;Iterative vs Incremental (vs Both?)&lt;/h3&gt;
&lt;p&gt;Quick aside, this is a case study for the type of environment that breeds an "Itera-mental" (Iterative + Incremental) environment. That is to say, the negatives of developing both Incremental and Iterative while only gaining the positives of Incremental development.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Iterative vs Incremental vs On Time &amp;amp; On Budget" src="/images/iterative-incremental.png"&gt;&lt;/p&gt;
&lt;p&gt;The dynamic here being grossly misundderstanding both the software development cycle and the definition of an MVP.&lt;/p&gt;
&lt;p&gt;Business people get so attached to the idea of a fully fleshed out product that they accept nothing less than that. They cannot grasp the concept that "quality" in the triple-constraint (or scope, if you're into the sex-tuple constraint thing) has a negative impact on "time", and that &lt;a href="https://pm.stackexchange.com/questions/17069/what-does-it-mean-to-crash-a-project"&gt;crashing&lt;/a&gt; a software project produces the &lt;em&gt;opposite&lt;/em&gt; outcome (I could write a whole rant on this topic, but I feel like there's plenty of other people who have said it already).&lt;/p&gt;
&lt;p&gt;Regardless of whether product functionality is delivered in an Iterative or Incremental fashion, &lt;em&gt;development is always incremental&lt;/em&gt;. Even in developing a full "increment" a development team will work to the minimal functional implementation of a feature. &lt;/p&gt;
&lt;p&gt;We can spend 4 months of our 8 month timeline (lol btw at expanding scope constraint with a locked time constraint) building the administration &amp;amp; user management, but that leaves us half of our time to build the actual product for the users are going to pay for!&lt;/p&gt;
&lt;p&gt;...I digress.&lt;/p&gt;
&lt;h2&gt;Wasn't this about cereal or something?&lt;/h2&gt;
&lt;p&gt;&lt;img alt="Cereal Meme part 1" src="/images/cereal-meme-1.jpg"&gt;&lt;/p&gt;
&lt;p&gt;The Rock Family of Companies (collection of companies under Rock Holdings which includes Rocket Mortgage, previously known as Quicken Loans) has a set of &lt;strong&gt;ISMs&lt;/strong&gt;-- &lt;a href="https://www.quickenloans.com/blog/living-the-isms"&gt;a set of idioms that drive the company culture&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The unveiling of the newest ISM (which is not a regular occurrance) while I worked in the family really clarified exactly the culture problem that I was experiencing. I'm pretty sure they're copyrighted or proprietary or something, so I'll paraphrase it:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;The box sells the cereal&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My initial reactions aside (sometimes they feel like horoscopes that you can uniformly apply to any walk of life), my realization is that this statement is validation for every MBA, big-wig, and marketer: "It doesn't matter what you make, it matters how you present it!"&lt;/p&gt;
&lt;p&gt;Which entirely sums up my experience working at a "software" company. &lt;em&gt;Even if they thought they were&lt;/em&gt;, at no point were the decision makers invested in actually creating quality software. I actually cannot stress that enough--I feel like I should write it a second time.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Even if they thought they were&lt;/em&gt;, at no point were the decision makers invested in actually creating quality software&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;For them, it amounted to a marketing exercise: "With what vapid promises are we able to capture what segments of the market?" and connecting with other C-titles to make promises-of-promises. "What do you need from a software? Oh &lt;em&gt;we&lt;/em&gt; can add that feature!" (to twenty different companies, while the product has not even been deployed to a production environment!)&lt;/p&gt;
&lt;h3&gt;The cereal is a lie&lt;/h3&gt;
&lt;p&gt;So, if the box sells the cereal, does it even matter what the cereal is?&lt;/p&gt;
&lt;p&gt;Of course it does.&lt;/p&gt;
&lt;p&gt;Remember "&lt;a href="https://twitter.com/JensenKarp/status/1374051365417230336?s=20"&gt;Cinnamon Toast Shrimp&lt;/a&gt;"?&lt;/p&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p lang="en" dir="ltr"&gt;Ummmm &lt;a href="https://twitter.com/CTCSquares?ref_src=twsrc%5Etfw"&gt;@CTCSquares&lt;/a&gt; - why are there shrimp tails in my cereal? (This is not a bit) &lt;a href="https://t.co/tTjiAdrnVp"&gt;pic.twitter.com/tTjiAdrnVp&lt;/a&gt;&lt;/p&gt;&amp;mdash; Jensen Karp (@JensenKarp) &lt;a href="https://twitter.com/JensenKarp/status/1374051365417230336?ref_src=twsrc%5Etfw"&gt;March 22, 2021&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

&lt;h2&gt;In conclusion...&lt;/h2&gt;
&lt;p&gt;Let's not develop Cinnamon Toast Software.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Cinnamon Toast Crunch: Oops, All Shrimp Tails!" src="/images/oops-all-shrimp-tails.jpg"&gt;&lt;/p&gt;
&lt;h3&gt;Disclaimer: Rock FoC &amp;amp; ISMs&lt;/h3&gt;
&lt;p&gt;At this point, I have only worked at a single of the (many) companies in the Rock Family fo Companies. I don't intend to for this to be a criticism or negative review of them (including the one I worked for), or the ISMs as a driver of corporate culture. In fact, I actually like them quite a bit (even if they're a bit Kool-Aid-y).&lt;/p&gt;</content><category term="rants"></category></entry><entry><title>SQS to Lambda Makes Me Feel Bad</title><link href="/sqs-to-lambda-makes-me-feel-bad.html" rel="alternate"></link><published>2021-05-27T00:00:00-05:00</published><updated>2021-05-27T00:00:00-05:00</updated><author><name>Maxwell G Brown</name></author><id>tag:None,2021-05-27:/sqs-to-lambda-makes-me-feel-bad.html</id><summary type="html">&lt;h1&gt;SQS to Lambda Makes Me Feel Bad (&amp;amp; Misery Loves Company)&lt;/h1&gt;
&lt;p&gt;I myself remember a time (pre mid-2018) when AWS did not support SQS as a Lambda trigger. For the life of me I cannot find any recollection of this on the internet--it seems as the deep state has entirely scrubbed …&lt;/p&gt;</summary><content type="html">&lt;h1&gt;SQS to Lambda Makes Me Feel Bad (&amp;amp; Misery Loves Company)&lt;/h1&gt;
&lt;p&gt;I myself remember a time (pre mid-2018) when AWS did not support SQS as a Lambda trigger. For the life of me I cannot find any recollection of this on the internet--it seems as the deep state has entirely scrubbed the internet of frustrated AWS users asking "why in god's name can't I go from SQS -&amp;gt; Lambda?!?!" (and, I myself used to be one of them).&lt;/p&gt;
&lt;p&gt;&lt;img alt="If an item doesn't appear in our records, it doesn't exist" src="/images/not-in-the-archives.png"&gt;&lt;/p&gt;
&lt;p&gt;Today, while searching for this exact case I find nothing but absolute celebration that our lord god AWS itself has delivered upon to us &lt;strong&gt;&lt;a href="https://aws.amazon.com/blogs/aws/aws-lambda-adds-amazon-simple-queue-service-to-supported-event-sources/"&gt;SQS as a Lambda trigger&lt;/a&gt;&lt;/strong&gt;. &lt;em&gt;He is risen!&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Okay so what's the problem?&lt;/h2&gt;
&lt;p&gt;Again, I cannot find &lt;strong&gt;any&lt;/strong&gt; mention on AWS's stance on SQS -&amp;gt; Lambda triggers pre June-2018.&lt;/p&gt;
&lt;p&gt;But everything in my memory tells me the reason it took ~4 years to integrate their very first service into their next-gen compute platform was not because nobody wanted it, but because &lt;em&gt;they disagreed with the entire premise of it&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="It ought to be here... but it isn't" src="/images/aught-to-isnt.png"&gt;&lt;/p&gt;
&lt;p&gt;Page and page of AWS Helpdesk questions (the public ones, I don't remember what they're called and I don't care to hunt it down) asking "HoW cAn I gEt SQS tO tRiGgEr A lAmBdA?" and AWS saying "please stop trying you're doing it wrong". Today, I can't find a single one of them, but I remember it deep in my soul because &lt;em&gt;I was asking the same question and was disatisfied with the answer&lt;/em&gt;!&lt;/p&gt;
&lt;p&gt;What I remember is their reasoning being something to the effect of:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SQS is a queueing mechanism for polling services to receive messages in an asynchronous fashion.
AWS Lambda is a computing service built to accept triggers, run, then terminate.
If you want to communicate asynchronously with AWS Lambda, &lt;em&gt;why don't you just send the message directly to the lambda?&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I can hear me in 2017 right now: "Gah! I don't &lt;em&gt;want&lt;/em&gt; to trigger a lambda directly because I don't want to be tightly coupled to it!"&lt;/p&gt;
&lt;p&gt;...and maybe there's some merit to that. The whole purpose of queues is to allow you to throttle overflow on requests while the consumers can handle them at their leisure, so why should whomst is sending the message care about who consumes it? This is probably the only argument and reasoning I'll buy for Lambdas as a queue consumer. That and being to lazy to want to spin up real infrastructure (which I am certainly guilty of)&lt;/p&gt;
&lt;h2&gt;Why are we throtling small compuation nodes?&lt;/h2&gt;
&lt;p&gt;Lambda was not made to be big. It's whole purpose is to be a small computational node that executes quickly and scales near-infinittely horizontally.&lt;/p&gt;
&lt;p&gt;The hard part to scaling horizontally is already being performed by whomever is splitting the messages into batches for the queue anyways! &lt;/p&gt;
&lt;p&gt;Not to mention, Lambda has a feature for running asynchronously (as opposed to a request-response cycle) so you don't have to wait for a response.&lt;/p&gt;
&lt;p&gt;Oh, did I mention that if trigger events fail to be processed or overflow past your throttle when you reach your lambda limit, &lt;em&gt;you can configure a Dead-Letter Queue to catch them?&lt;/em&gt;. &lt;/p&gt;
&lt;h3&gt;Also, are we &lt;em&gt;really&lt;/em&gt; decoupled?&lt;/h3&gt;
&lt;p&gt;Not to mention, you're publishing a message to a queue, a message that fits into the queue that you know is going to be picked up by a service expecting it to be in &lt;em&gt;some shape&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;If you published that message directly to Lambda you'd get effectively the same result from the producer perspective!&lt;/p&gt;
&lt;p&gt;The only real benefit you're getting is offloading the computation of &lt;em&gt;something&lt;/em&gt;, and you don't care what it is. If that's what we're going for, I posit there are better ways to do that.&lt;/p&gt;
&lt;h2&gt;What if there was something... better&lt;/h2&gt;
&lt;p&gt;&lt;img alt="I want you to join me" src="/images/join-me.gif"&gt;&lt;/p&gt;
&lt;p&gt;Okay so I don't think you should go from SQS -&amp;gt; Lambda. What then, is that it?&lt;/p&gt;
&lt;p&gt;Replacing the good-ol' push/pull model is the (imo much more flexible) pub/sub model.&lt;/p&gt;
&lt;p&gt;Instead of connecting your services together with queues, we should first consider an &lt;strong&gt;Event Bus&lt;/strong&gt;!&lt;/p&gt;
&lt;p&gt;In this world, the service lives in an ecosystem of other services all connected by messages flowing through an Event Bus. Subscribe to the ones you like, and process them there! Your service is already supposed to handle events idempotently if you're considering using a service in the first place, so you've already handled the hard part.&lt;/p&gt;
&lt;p&gt;The prerequisites to get Event Bus ready are already so similar to getting it queue ready:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You should be handling events idempotently&lt;/li&gt;
&lt;li&gt;You should be able to scale horizontally to handle load (which, I guess isn't necessarily required for queue consumers, but if you want messages to be handled timely...)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;...and you get the ability to do &lt;em&gt;so much more&lt;/em&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Listen to multiple different types of events, instead of just the ones you couple to the queue&lt;/li&gt;
&lt;li&gt;Publish messages &lt;em&gt;back&lt;/em&gt; to the event bus for other services to consume&lt;/li&gt;
&lt;li&gt;Decouple other services from producing to &lt;em&gt;your queue&lt;/em&gt; and instead couple them to the Event Bus enviornment (biome?) where they can talk to the rest of the animal kingdom!&lt;/li&gt;
&lt;li&gt;(I could go on and on about what I think Event Busses enable, but these two are the most pertinant for now)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Queues still serve a purpose: throttling expensive asynchronous operations! But shoe-horning them into being glorified message brokers is doing everybody a disservice, and is something SNS &lt;em&gt;was literally made to do&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;In Conclusion...&lt;/h2&gt;
&lt;p&gt;If you're using Lambdas as SQS Queue consumers then maybe you're doing it wrong.&lt;/p&gt;</content><category term="rants"></category></entry><entry><title>Everything is MapReduce</title><link href="/everything-is-mapreduce.html" rel="alternate"></link><published>2021-05-26T00:00:00-05:00</published><updated>2021-05-26T00:00:00-05:00</updated><author><name>Maxwell G Brown</name></author><id>tag:None,2021-05-26:/everything-is-mapreduce.html</id><summary type="html">&lt;h1&gt;Everything is MapReduce&lt;/h1&gt;
&lt;p&gt;&lt;img alt="MapReduce. MapReduce everywhere." src="/images/mapreduce-everywhere.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Product&lt;/strong&gt;: "It's time to write some data processing! We have files that may have records in the tens of thousands, and we need to categorize/label/process/onboard them into our system after submission from an HTTP request!"&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;(naive) Dev&lt;/strong&gt;: "Uuh, let's just do it in a …&lt;/p&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;h1&gt;Everything is MapReduce&lt;/h1&gt;
&lt;p&gt;&lt;img alt="MapReduce. MapReduce everywhere." src="/images/mapreduce-everywhere.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Product&lt;/strong&gt;: "It's time to write some data processing! We have files that may have records in the tens of thousands, and we need to categorize/label/process/onboard them into our system after submission from an HTTP request!"&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;(naive) Dev&lt;/strong&gt;: "Uuh, let's just do it in a blocking API request in a single procedural function the size of Texas?"&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;QA&lt;/strong&gt;: "Hey, so the processing form doesn't work for any files larger than 500kb..."&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PM&lt;/strong&gt;: "I'll write a ticket to increase the file size!"&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It's not the first time I've had to write a system like the above and it likely won't be the last. And it won't be the first time that a developer (naively, I feel) suggests taking an incremenetal approach to implementing it first in a blocking API call that just &lt;em&gt;does everything&lt;/em&gt;. &lt;/p&gt;
&lt;p&gt;Very quickly though the team outgrows these implementations (probably because blocking API calls are a &lt;em&gt;Bad Idea&lt;/em&gt;) and then the poor dev (or even worse, his successor!) is stuck with a ticket that says something like "increase import size from 500kb" and they find themselves trying to build Rome with a hammer &amp;amp; chisel.&lt;/p&gt;
&lt;h2&gt;Let's make it right&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;This rant is about MapReduce &lt;em&gt;right&lt;/em&gt;?&lt;/strong&gt; Bear with me.&lt;/p&gt;
&lt;p&gt;I posit that the real problem here is starting with the &lt;em&gt;wrong&lt;/em&gt; incremental approach: building that asynchronous system into the request-response cycle should be the very FIRST thing that happens here! &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A queue with a listener that has some beefy stats? Sure okay.&lt;/li&gt;
&lt;li&gt;On-demand compute nodes to run tasks in long form fashion? Yeah, that might work.&lt;/li&gt;
&lt;li&gt;An event bus and some horizontally-scalable microservices? Sounds fun.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It doesn't ned to be entirely fleshed out, let it be an infant! Maybe you're just moving your procedural abomination downstream. Don't care, it's better now that you're not on a blocking API request.&lt;/p&gt;
&lt;p&gt;Blocking API requests are like getting groceries during COVID: you want to deliver your message and get the hell out. Any time you spend standing in line should be making you anxious about the things happening around you.&lt;/p&gt;
&lt;p&gt;We probably skip away from this implementation happy that we've built something cool and loosened the valve on the future featurres we have to build into our asynchronous processing system.&lt;/p&gt;
&lt;h2&gt;Okay what next?&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Where is the MapReduce?&lt;/strong&gt; &lt;em&gt;Yeah yeah&lt;/em&gt; I'm getting there.&lt;/p&gt;
&lt;p&gt;We have our nice pretty custom asynchronous data processing tooling, and it's way better than what we had before. I mean &lt;em&gt;way&lt;/em&gt; better. We can actually add features to it without worry that "rEqUeStS wILl TiMe OuT!". &lt;/p&gt;
&lt;p&gt;We've introduced more infrastructure overhead (after all, we &lt;em&gt;did&lt;/em&gt; solve this problem with more infrastructure). The solution is pretty custom, lets say that there's 5 steps in our flow and each step transforms and does some processing against the data. Let's pencil it out:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Turn XLSX rows into JSON data&lt;/li&gt;
&lt;li&gt;Read JSON records for an ID to insert/update into our system&lt;/li&gt;
&lt;li&gt;Read certain fields in said records for URLs of images&lt;/li&gt;
&lt;li&gt;Download said images&lt;/li&gt;
&lt;li&gt;Insert/update database with some light processing/transformed of values (e.g. whitespace trimming)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;...and maybe to do this we have a workflow manager that manages moving between steps for us! When 1 is done, do 2. When 2 is done do 3. Do I need to do step 4? No? Skip to 5.&lt;/p&gt;
&lt;p&gt;All the while, dropping our intermediate data somewhere so we can both pick it up at the next step or audit it after the fact.&lt;/p&gt;
&lt;h3&gt;In case you hadn't noticed...&lt;/h3&gt;
&lt;p&gt;&lt;img alt="It's all MapReduce? Always has been." src="/images/mapreduce-always-has-been.jpg"&gt;&lt;/p&gt;
&lt;h2&gt;This rant is about MapReduce now!&lt;/h2&gt;
&lt;p&gt;We did all this work just to implement a glorified MapReduce!&lt;/p&gt;
&lt;p&gt;And we &lt;em&gt;haaaate&lt;/em&gt; unnecessary work. Why build something custom when you can worry about less and finger-point at other vendors when your stuff isn't working right?&lt;/p&gt;
&lt;p&gt;Here's the hot-take of the day: &lt;strong&gt;All data processing is just glorified MapReduce&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Why do we even bother building our own things when we have these solutions that are hand-tailored to ripping apart and processing large swaths of data!? Would we have not done ourselves a service by starting directly with Hadoop, or a mature MapReduce-ing solution?&lt;/p&gt;
&lt;h2&gt;I don't see it yet&lt;/h2&gt;
&lt;p&gt;It's in the name. MapReduce is two main parts:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Map&lt;/strong&gt; initial data into keys that correspond to how we're processing the data&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Reduce&lt;/strong&gt; mapped data into "organized" data that we want to work with&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;...and if we want to get into specifics those two actually have other steps to talk about:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Map&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Input
  Give the initial input&lt;/li&gt;
&lt;li&gt;Split
  Split initial data into processable chunks&lt;/li&gt;
&lt;li&gt;Map
  Take a chunk and key the records you want from it&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Reduce&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Shuffle
  Across the chunks, organize data into logical groups&lt;/li&gt;
&lt;li&gt;Reduce
  Turn the logical groups into new data&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;With those enumerated, it's a lot easier to see how our problem statement fits so well into this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Turn XLSX rows into JSON data&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Input&lt;/strong&gt; XLSX file&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Split&lt;/strong&gt; XLSX rows into JSON data&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Read JSON records for an ID to insert/update into our system&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Map&lt;/strong&gt; JSON records into keys&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Shuffle&lt;/strong&gt; records into separate "Inserts" and "Update" groups&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Read certain fields in said records for URLs of images (the ordered list is doing me a disservice now, since this will likely happen simultaneous to 2, but the show must go on)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Map&lt;/strong&gt; fields with URLs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Download said images&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Reduce&lt;/strong&gt; URLs to new hosted location&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Insert/update database with some light processing/transformed of values (e.g. whitespace trimming)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Reduce&lt;/strong&gt; to new records&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Did I mention that each of these steps saves the intermediate data, so we can audit between steps? &lt;/p&gt;
&lt;p&gt;I've built systems similar to this thrice over at my job, and whenever I take a step back to admire my handiwork I end up thinking to myself:&lt;/p&gt;
&lt;h3&gt;Did I just build a glorified MapReduce?&lt;/h3&gt;
&lt;p&gt;&lt;img alt="Who are you? Rey. Rey MapReduce" src="/images/rey-mapreduce.jpg"&gt;&lt;/p&gt;
&lt;h2&gt;Confession/Disclaimer&lt;/h2&gt;
&lt;p&gt;I have no idea what I'm talking about. I've never actually used Hadoop before, nor any of the othere "MapReducers" I could find in a 3-minute google sesh (Apache Spark, Apache Storm, BigQuery, Disco).&lt;/p&gt;
&lt;p&gt;But here I am with the confession that I've ~wasted~ spent plenty of time implementing solutions that would likely fit into the category of "Hadoop Alternative".&lt;/p&gt;
&lt;p&gt;So, perhaps this rant was more for &lt;em&gt;me&lt;/em&gt; than any reader:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Maybe I should look into Hadoop or it's alternatives?&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="rants"></category></entry></feed>